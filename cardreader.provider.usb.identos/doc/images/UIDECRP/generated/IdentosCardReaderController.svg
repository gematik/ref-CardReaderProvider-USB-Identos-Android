<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="386px" preserveAspectRatio="none" style="width:438px;height:386px;" version="1.1" viewBox="0 0 438 386" width="438px" zoomAndPan="magnify"><defs><filter height="300%" id="f1qxgqwv62tws0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster de.gematik.ti.cardreader.provider.usb.identos.control--><polygon fill="#FFFFFF" filter="url(#f1qxgqwv62tws0)" points="22,80,406,80,413,103.6094,416,103.6094,416,374,22,374,22,80" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="413" y1="103.6094" y2="103.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="378" x="26" y="96.5332">de.gematik.ti.cardreader.provider.usb.identos.control</text><!--class IdentosCardReaderController--><rect fill="#FEFECE" filter="url(#f1qxgqwv62tws0)" height="241.7031" id="IdentosCardReaderController" style="stroke: #A80036; stroke-width: 1.5;" width="243" x="97.5" y="116"/><ellipse cx="134.1" cy="132" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M136.1,128.5 Q136.3031,128 136.5375,127.75 Q136.7719,127.5 137.0375,127.5 Q137.5063,127.5 137.8031,127.7813 Q138.1,128.0625 138.1,128.7188 L138.1,130.2813 Q138.1,130.9375 137.8188,131.2188 Q137.5375,131.5 137.1,131.5 Q136.7094,131.5 136.4594,131.3281 Q136.2094,131.1563 136.1,130.7031 Q136.0531,130.3906 135.8813,130.2188 Q135.5688,129.8906 135.0063,129.6953 Q134.4438,129.5 133.8813,129.5 Q133.1781,129.5 132.5922,129.7813 Q132.0063,130.0625 131.5531,130.6875 Q131.1,131.3125 131.1,132.1719 L131.1,133.0938 Q131.1,134.125 131.9438,134.8125 Q132.7875,135.5 134.2875,135.5 Q135.1781,135.5 135.8031,135.2969 Q136.1625,135.1875 136.5688,134.8281 Q136.8344,134.625 136.975,134.5625 Q137.1156,134.5 137.2875,134.5 Q137.6156,134.5 137.8578,134.7578 Q138.1,135.0156 138.1,135.375 Q138.1,135.7188 137.7563,136.125 Q137.2563,136.7188 136.4594,137.0469 Q135.4125,137.5 134.1313,137.5 Q132.6313,137.5 131.4281,136.9063 Q130.4594,136.4375 129.7797,135.4219 Q129.1,134.4063 129.1,133.2031 L129.1,132.1094 Q129.1,130.8594 129.7016,129.7656 Q130.3031,128.6719 131.3578,128.0859 Q132.4125,127.5 133.6,127.5 Q134.3188,127.5 134.9438,127.75 Q135.5688,128 136.1,128.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="163" x="152.9" y="136.9102">IdentosCardReaderController</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="98.5" x2="339.5" y1="148" y2="148"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="105.5" y="157.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="217" x="117.5" y="163.4189">ACTION_USB_PERMISSION_IDENTOS : String</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="105.5" y="171.2539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="65" x="117.5" y="177.2549">LOG : Logger</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="105.5" y="185.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="189" x="117.5" y="191.0908">instance : IdentosCardReaderController</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="105.5" y="198.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="203" x="117.5" y="204.9268">cardReaders : Map&lt;Integer, ICardReader&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="98.5" x2="339.5" y1="211.3438" y2="211.3438"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="105.5" y="220.7617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="117.5" y="226.7627">IdentosCardReaderController()</text><ellipse cx="108.5" cy="237.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="64" x="117.5" y="240.5986">getInstance()</text><ellipse cx="108.5" cy="251.4336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="117.5" y="254.4346">getCardReaders()</text><ellipse cx="108.5" cy="265.2695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="117.5" y="268.2705">addConnectionListener()</text><polygon fill="#4177AF" points="108.5,275.1055,104.5,281.1055,112.5,281.1055" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="117.5" y="282.1064">addNewAndInform()</text><polygon fill="#4177AF" points="108.5,288.9414,104.5,294.9414,112.5,294.9414" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="117.5" y="295.9424">removeAndInform()</text><ellipse cx="108.5" cy="306.7773" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="117.5" y="309.7783">waitForPermission()</text><ellipse cx="108.5" cy="320.6133" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="117.5" y="323.6143">ctInitCompleted()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="105.5" y="331.4492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="117.5" y="337.4502">readDevices()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="105.5" y="345.2852"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="117.5" y="351.2861">createUsbReceiver()</text><!--class AbstractAndroidCardReaderController--><rect fill="#FEFECE" filter="url(#f1qxgqwv62tws0)" height="48" id="AbstractAndroidCardReaderController" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="99" y="8"/><ellipse cx="114" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M116,20.5 Q116.2031,20 116.4375,19.75 Q116.6719,19.5 116.9375,19.5 Q117.4063,19.5 117.7031,19.7813 Q118,20.0625 118,20.7188 L118,22.2813 Q118,22.9375 117.7188,23.2188 Q117.4375,23.5 117,23.5 Q116.6094,23.5 116.3594,23.3281 Q116.1094,23.1563 116,22.7031 Q115.9531,22.3906 115.7813,22.2188 Q115.4688,21.8906 114.9063,21.6953 Q114.3438,21.5 113.7813,21.5 Q113.0781,21.5 112.4922,21.7813 Q111.9063,22.0625 111.4531,22.6875 Q111,23.3125 111,24.1719 L111,25.0938 Q111,26.125 111.8438,26.8125 Q112.6875,27.5 114.1875,27.5 Q115.0781,27.5 115.7031,27.2969 Q116.0625,27.1875 116.4688,26.8281 Q116.7344,26.625 116.875,26.5625 Q117.0156,26.5 117.1875,26.5 Q117.5156,26.5 117.7578,26.7578 Q118,27.0156 118,27.375 Q118,27.7188 117.6563,28.125 Q117.1563,28.7188 116.3594,29.0469 Q115.3125,29.5 114.0313,29.5 Q112.5313,29.5 111.3281,28.9063 Q110.3594,28.4375 109.6797,27.4219 Q109,26.4063 109,25.2031 L109,24.1094 Q109,22.8594 109.6016,21.7656 Q110.2031,20.6719 111.2578,20.0859 Q112.3125,19.5 113.5,19.5 Q114.2188,19.5 114.8438,19.75 Q115.4688,20 116,20.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="208" x="128" y="28.9102">AbstractAndroidCardReaderController</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="100" x2="338" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="100" x2="338" y1="48" y2="48"/><!--link AbstractAndroidCardReaderController to IdentosCardReaderController--><path d="M219,76.703 C219,88.461 219,101.77 219,115.563 " fill="none" id="AbstractAndroidCardReaderController-IdentosCardReaderController" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="212,76.287,219,56.287,226,76.287,212,76.287" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

    package de.gematik.ti.cardreader.provider.usb.identos.control {
      class IdentosCardReaderController {
          {static} - ACTION_USB_PERMISSION_IDENTOS : String
          {static} - LOG : Logger
          {static} - instance : IdentosCardReaderController
          - cardReaders : Map<Integer, ICardReader>
          - IdentosCardReaderController()
          {static} + getInstance()
          + getCardReaders()
          + addConnectionListener()
          ~ addNewAndInform()
          ~ removeAndInform()
          + waitForPermission()
          + ctInitCompleted()
          - readDevices()
          - createUsbReceiver()
      }
    }

  IdentosCardReaderController -up-|> AbstractAndroidCardReaderController

@enduml

PlantUML version 1.2019.06(Fri May 24 19:10:25 CEST 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_202-release-1483-b03
Operating System: Windows 7
OS Version: 6.1
Default Encoding: Cp1252
Language: de
Country: DE
--></g></svg>